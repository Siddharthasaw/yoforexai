(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[765],{91046:function(e,t,s){Promise.resolve().then(s.bind(s,98292))},98292:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(57437),r=s(15794),n=s.n(r);s(57623);var l=s(2265),i=s(24033);s(67612);var o=s(68439);function c(){let e=(0,i.useRouter)(),[t,s]=(0,l.useState)("whatsapp"),[r,c]=(0,l.useState)("request"),[d,u]=(0,l.useState)(""),[m,h]=(0,l.useState)(""),[x,g]=(0,l.useState)(""),[p,b]=(0,l.useState)(""),[y,f]=(0,l.useState)(!1),[v,w]=(0,l.useState)(!1),[j,N]=(0,l.useState)(""),k=e=>{var t;let s=e.message;(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.detail)&&(s=Array.isArray(e.response.detail)?e.response.detail.map(e=>e.msg).join(", "):e.response.detail),N(s)},S=async()=>{if(N(""),!d.trim()){N("Field required");return}if(d.length<6||d.length>15){N("Please enter a valid mobile number");return}w(!0);try{await (0,o.q)("/auth/login/request-otp",{phone:d.includes("+")?d:"+"+d}),c("verify")}catch(e){k(e)}finally{w(!1)}},E=async()=>{w(!0),N("");try{let t=await (0,o.q)("/auth/login/verify-otp",{phone:d.includes("+")?d:"+"+d,otp:m});(null==t?void 0:t.token)||(null==t?void 0:t.status)==="success"||(null==t?void 0:t.status)==="login_successful"||(null==t?void 0:t.status)==="verified"?e.push("/"):N("OTP verification failed or account not found.")}catch(e){k(e)}finally{w(!1)}},C=async()=>{w(!0),N("");try{let t=await (0,o.q)("/auth/login/email",{email:x,password:p});(null==t?void 0:t.token)||(null==t?void 0:t.status)==="success"||(null==t?void 0:t.status)==="login_successful"?e.push("/"):N("Invalid credentials")}catch(e){k(e)}finally{w(!1)}};return(0,a.jsx)("div",{className:"flex mt-[3rem] items-center justify-center",children:(0,a.jsxs)("div",{className:"w-full max-w-md bg-gray-800 rounded-xl shadow-xl overflow-hidden border border-gray-700 mx-4 my-8",children:[(0,a.jsxs)("div",{className:"bg-gray-800 p-8 text-center border-b border-gray-700",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white",children:"YoForex AI"}),(0,a.jsx)("p",{className:"text-gray-400 mt-2 text-sm",children:"Login to access your dashboard"})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6 border border-gray-700 rounded-lg overflow-hidden",children:[(0,a.jsx)("button",{onClick:()=>s("whatsapp"),className:"flex-1 py-2 text-sm font-medium ".concat("whatsapp"===t?"bg-blue-600 text-white":"bg-gray-700 text-gray-300"),children:"WhatsApp Login"}),(0,a.jsx)("button",{onClick:()=>s("email"),className:"flex-1 py-2 text-sm font-medium ".concat("email"===t?"bg-blue-600 text-white":"bg-gray-700 text-gray-300"),children:"Email Login"})]}),"whatsapp"===t&&("request"===r?(0,a.jsxs)("form",{className:"space-y-4",onSubmit:e=>{e.preventDefault(),S()},children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-300",children:"WhatsApp Number"}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)(n(),{value:d,onChange:e=>u(e),country:"in",enableSearch:!0,enableLongNumbers:15,placeholder:"Enter mobile no.",inputStyle:{width:"100%",height:"40px",background:"transparent",borderRadius:"4px",paddingLeft:"50px",color:"white"},buttonStyle:{background:"transparent"},dropdownStyle:{background:"white",color:"black"}})})]}),j&&(0,a.jsx)("p",{className:"text-xs text-red-400",children:j}),(0,a.jsx)("button",{type:"submit",disabled:v,className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg mt-4",children:v?"Sending OTP...":"Send OTP"})]}):(0,a.jsxs)("form",{className:"space-y-4",onSubmit:e=>{e.preventDefault(),E()},children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-300",children:"Enter OTP"}),(0,a.jsx)("input",{value:m,onChange:e=>h(e.target.value),placeholder:"Enter OTP",className:"w-full p-3 bg-gray-700 border border-gray-600 text-white rounded-lg placeholder-gray-400",required:!0})]}),j&&(0,a.jsx)("p",{className:"text-xs text-red-400",children:j}),(0,a.jsx)("button",{type:"submit",disabled:v,className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg mt-4",children:v?"Verifying...":"Verify & Login"})]})),"email"===t&&(0,a.jsxs)("form",{className:"space-y-4",onSubmit:e=>{e.preventDefault(),C()},children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-300",children:"Email"}),(0,a.jsx)("input",{type:"email",value:x,onChange:e=>g(e.target.value),placeholder:"Enter your email",className:"w-full p-3 bg-gray-700 border border-gray-600 text-white rounded-lg placeholder-gray-400",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2 relative",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-300",children:"Password"}),(0,a.jsx)("input",{type:y?"text":"password",value:p,onChange:e=>b(e.target.value),placeholder:"Enter password",className:"w-full p-3 bg-gray-700 border border-gray-600 text-white rounded-lg placeholder-gray-400 pr-12",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>f(e=>!e),className:"absolute right-3 top-9 text-gray-400 hover:text-gray-200",tabIndex:-1,children:y?(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-5 0-9-4-9-7s4-7 9-7c1.03 0 2.02.155 2.96.44M15 12a3 3 0 11-6 0 3 3 0 016 0zm6.36 3.09A9.956 9.956 0 0021 12c0-3-4-7-9-7-.71 0-1.4.07-2.07.2M3 3l18 18"})}):(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0zm6 0c0 3-4 7-9 7s-9-4-9-7 4-7 9-7 9 4 9 7z"})})}),(0,a.jsx)("a",{href:"/forgetPassword",children:"Forget password"})]}),j&&(0,a.jsx)("p",{className:"text-xs text-red-400",children:j}),(0,a.jsx)("button",{type:"submit",disabled:v,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg mt-4",children:v?"Logging in...":"Login"})]}),(0,a.jsx)("div",{className:"px-6 py-4 bg-gray-800 border-t border-gray-700 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:["Don't have an account?"," ",(0,a.jsx)("a",{href:"/signUp",className:"text-blue-400 font-medium hover:underline",children:"Sign up"})]})})]})]})})}},68439:function(e,t,s){"use strict";async function a(e,t){let s=await fetch("".concat("https://backend.axiontrust.com").concat(e),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await s.json();if(!s.ok){let e=Error(a.message||"API Error");throw e.response=a,e}return a}async function r(e){let t=await fetch("".concat("https://backend.axiontrust.com").concat(e),{credentials:"include"}),s=await t.json();if(!t.ok){let e=Error(s.message||"API Error");throw e.response=s,e}return s}s.d(t,{Y:function(){return r},q:function(){return a}})},67612:function(){}},function(e){e.O(0,[161,568,971,864,744],function(){return e(e.s=91046)}),_N_E=e.O()}]);