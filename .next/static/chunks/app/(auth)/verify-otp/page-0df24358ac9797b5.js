(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[835],{99680:function(e,t,r){Promise.resolve().then(r.bind(r,14927))},14927:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var n=r(57437),s=r(24033),a=r(2265),o=r(68439);function i(){let e=(0,s.useSearchParams)(),t=(0,s.useRouter)(),r=e.get("number")||"",[i,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(""),f=async e=>{e.preventDefault(),m(""),d(!0);try{let e="+".concat(r.replace(/\D/g,"")),n=await (0,o.q)("/auth/verify-signup-otp",{phone:e,otp:i});(null==n?void 0:n.status)==="verified"||(null==n?void 0:n.token)?t.push("/signIn"):m("Invalid OTP or verification failed")}catch(t){var n;let e=t.message;(null==t?void 0:null===(n=t.response)||void 0===n?void 0:n.detail)&&(Array.isArray(t.response.detail)?e=t.response.detail.map(e=>e.msg).join(", "):"string"==typeof t.response.detail&&(e=t.response.detail)),m(e)}finally{d(!1)}};return(0,n.jsx)("div",{className:"flex items-center justify-center",children:(0,n.jsxs)("div",{className:"w-full max-w-md bg-gray-800 rounded-xl shadow-xl overflow-hidden border border-gray-700 mx-4 my-8",children:[(0,n.jsxs)("div",{className:"bg-gray-800 p-8 text-center border-b border-gray-700",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Verify OTP"}),(0,n.jsxs)("p",{className:"text-gray-400 mt-2 text-sm",children:["Enter the 6-digit code sent to your WhatsApp ending with ",null==r?void 0:r.slice(-4)]})]}),(0,n.jsxs)("form",{onSubmit:f,className:"p-6 space-y-5",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-300",children:"OTP Code"}),(0,n.jsx)("input",{type:"text",value:i,onChange:e=>l(e.target.value),placeholder:"Enter 6-digit OTP",maxLength:6,required:!0,className:"w-full p-3 bg-gray-700 border border-gray-600 text-white rounded-lg placeholder-gray-400"}),u&&(0,n.jsxs)("div",{className:"flex items-center gap-2 bg-red-600/10 border border-red-500 text-red-200 px-4 py-3 rounded-lg mb-2 animate-shake",children:[(0,n.jsxs)("svg",{className:"w-5 h-5 text-red-400 shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none"}),(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01"})]}),(0,n.jsx)("span",{className:"text-sm font-medium",children:u})]})]}),(0,n.jsx)("button",{type:"submit",disabled:c,className:"w-full py-3 px-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition duration-200 flex items-center justify-center mt-2",children:c?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying..."]}):"Verify & Continue"})]}),(0,n.jsx)("div",{className:"px-6 py-4 bg-gray-800 border-t border-gray-700 text-center",children:(0,n.jsxs)("p",{className:"text-sm text-gray-400",children:["Wrong number?"," ",(0,n.jsx)("a",{href:"/auth/signIn",className:"text-blue-400 font-medium hover:underline",children:"Go back to login"})]})})]})})}},68439:function(e,t,r){"use strict";async function n(e,t){let r=await fetch("".concat("https://backend.axiontrust.com").concat(e),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!r.ok){let e=Error(n.message||"API Error");throw e.response=n,e}return n}async function s(e){let t=await fetch("".concat("https://backend.axiontrust.com").concat(e),{credentials:"include"}),r=await t.json();if(!t.ok){let e=Error(r.message||"API Error");throw e.response=r,e}return r}r.d(t,{Y:function(){return s},q:function(){return n}})},30622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,a={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,n)&&!l.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:s,type:e,key:c,ref:d,props:a,_owner:i.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},57437:function(e,t,r){"use strict";e.exports=r(30622)},24033:function(e,t,r){e.exports=r(20290)}},function(e){e.O(0,[971,864,744],function(){return e(e.s=99680)}),_N_E=e.O()}]);